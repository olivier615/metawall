"use strict";(self["webpackChunkposts_wall"]=self["webpackChunkposts_wall"]||[]).push([[787],{7787:function(r,s,e){e.r(s),e.d(s,{default:function(){return C}});var o=e(6252),a=e(9963);const t={class:"col-md-7"},d=(0,o._)("div",{class:"border border-2 border-dark py-3 position-relative bg-white mb-3"},[(0,o._)("h3",{class:"text-center mb-0 fw-bold"},"修改個人資料"),(0,o._)("div",{class:"position-absolute border py-3 border-dark border-2 w-100 bg-white",style:{"z-index":"-1",top:"4px",left:"-6px"}},[(0,o._)("h3",{class:"text-center mb-0 fw-bold"},"修改個人資料")])],-1),l={class:"mt-6"},i={class:"ms-3 d-flex"},n={class:"py-2 px-4 border border-2 border-dark border-bottom-0 cus-tag-border-radio bg-white"},c=(0,o.Uk)(" 暱稱修改 "),b={class:"py-2 px-4 border border-2 border-dark border-bottom-0 cus-tag-border-radio bg-dark"},w=(0,o.Uk)(" 重設密碼 "),p={class:"px-md-3 px-lg-10 border border-2 border-dark bg-white cus-border-radio"},u={class:"d-flex align-items-center flex-column py-5"},m={class:"input-group mb-3"},f={class:"d-flex flex-column"},h=(0,o._)("label",{for:"newPassword",class:"mb-1"},"輸入新密碼",-1),g={class:"input-group mb-5"},k={class:"d-flex flex-column"},_=(0,o._)("label",{for:"confirmPassword",class:"mb-1"},"再次輸入",-1),x={class:"w-100"},P={key:0,disabled:"",class:"btn text-white text-azeret fw-bold cus-disabled-button border-2 w-100"},v=(0,o.Uk)(" 重設密碼 "),y={key:0,class:"spinner-border spinner-border-sm",role:"status"};function D(r,s,e,D,N,z){const L=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",t,[d,(0,o._)("div",l,[(0,o._)("ul",i,[(0,o._)("li",n,[(0,o.Wm)(L,{to:"/editProfile",class:"text-dark"},{default:(0,o.w5)((()=>[c])),_:1})]),(0,o._)("li",b,[(0,o.Wm)(L,{to:"/changePassword",class:"text-white"},{default:(0,o.w5)((()=>[w])),_:1})])]),(0,o._)("div",p,[(0,o._)("div",u,[(0,o._)("form",null,[(0,o._)("div",m,[(0,o._)("div",f,[h,(0,o.wy)((0,o._)("input",{type:"password",placeholder:"請輸入新密碼",id:"newPassword",class:"py-2 form-control no-border-radius border-2 border-dark text-azeret","onUpdate:modelValue":s[0]||(s[0]=r=>N.newPassword=r)},null,512),[[a.nr,N.newPassword]])])]),(0,o._)("div",g,[(0,o._)("div",k,[_,(0,o.wy)((0,o._)("input",{type:"password",placeholder:"再次輸入新密碼",id:"confirmPassword",class:"py-2 form-control no-border-radius border-2 border-dark text-azeret","onUpdate:modelValue":s[1]||(s[1]=r=>N.confirmNewPassword=r)},null,512),[[a.nr,N.confirmNewPassword]])])]),(0,o._)("div",x,[""===N.newPassword.trim()||""===N.confirmNewPassword.trim()?((0,o.wg)(),(0,o.iD)("button",P," 重設密碼 ")):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"btn text-azeret fw-bold btn-blue-dark border-2 w-100",onClick:s[2]||(s[2]=(0,a.iM)(((...r)=>z.changePassword&&z.changePassword(...r)),["prevent"]))},[v,N.isLoading?((0,o.wg)(),(0,o.iD)("div",y)):(0,o.kq)("",!0)]))])])])])])])}var N=e(4902),z={data(){return{isLoading:!1,url:"https://fathomless-earth-71463.herokuapp.com/api",newPassword:"",confirmNewPassword:"",userData:{}}},methods:{changePassword(){this.isLoading=!0,this.$http.post(`${this.url}/users/updatePassword`,{password:this.newPassword,confirmPassword:this.confirmNewPassword}).then((()=>{const r={icon:"success",title:"更新密碼成功"};N.Z.emit("popToast",r),this.isLoading=!1})).catch((r=>{const s={icon:"warning",title:r.response.data.message};N.Z.emit("popToast",s),this.isLoading=!1}))}},mounted(){localStorage.userData&&(this.userData=JSON.parse(localStorage.userData))}},L=e(3744);const U=(0,L.Z)(z,[["render",D]]);var C=U}}]);
//# sourceMappingURL=787.d5f4df8e.js.map