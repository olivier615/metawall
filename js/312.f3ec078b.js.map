{"version":3,"file":"js/312.f3ec078b.js","mappings":"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","sources":["webpack://posts-wall/./src/views/singlePostView.vue","webpack://posts-wall/./src/views/singlePostView.vue?93cf"],"sourcesContent":["<template>\r\n  <div class=\"col-md-7\">\r\n    <ul>\r\n      <li class=\"mb-3\">\r\n        <div class=\"card border-2 border-dark cus-border-radio cus-shadow-bottom\">\r\n          <div class=\"card-body p-4\">\r\n            <div class=\"d-flex mb-3 justify-content-between\">\r\n              <div class=\"d-flex\">\r\n                <img :src=\"post.user?.photo\" alt=\"userAvatar\" class=\"img-fluid border border-dark border-3 rounded-circle\"\r\n                style=\"height: 45px; width: 45px;\">\r\n                <div class=\"ms-3 d-flex flex-column\">\r\n                  <a class=\"card-title mb-0 fw-bold name-link\"\r\n                  >{{ post.user.name }}</a>\r\n                  <span class=\"cus-fs-sm text-secondary\">{{ new Date(post.createdAt).toLocaleString() }}</span>\r\n                </div>\r\n              </div>\r\n              <!-- 編輯貼文按鈕 -->\r\n              <div class=\"btn-group\" role=\"group\" aria-label=\"Button group with nested dropdown\"\r\n              v-if=\"post.user._id === userData._id\">\r\n                <div class=\"btn-group\" role=\"group\">\r\n                  <button id=\"btnGroupDrop1\" type=\"button\" class=\"btn btn dropdown-toggle text-primary\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                    <i class=\"bi bi-three-dots fs-4\"></i>\r\n                  </button>\r\n                  <ul class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\">\r\n                    <li><a class=\"dropdown-item\">編輯貼文</a></li>\r\n                    <li><a\r\n                    class=\"dropdown-item\" href=\"#\">刪除貼文</a></li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <p class=\"card-text fw-bold\">{{ post.content }}</p>\r\n            <img :src=\"post.image\" v-if=\"post.image\"\r\n            class=\"cus-border-radio img-fluid border border-2 border-dark mb-3\" alt=\"postImage\"\r\n            style=\"width:100%\">\r\n            <div class=\"d-flex align-items-center mb-3\">\r\n              <a href=\"#\" v-if=\"post.likes?.includes(userData._id)\"\r\n              class=\"me-1\" @click.prevent=\"dislikePost(post)\">\r\n                <span class=\"bi bi-hand-thumbs-up-fill fs-5\"></span>\r\n              </a>\r\n              <a href=\"#\" v-else class=\"me-1\" @click.prevent=\"likePost(post)\">\r\n                <span class=\"bi bi-hand-thumbs-up fs-5\"></span>\r\n              </a>\r\n              <div v-if=\"isLoading\" class=\"spinner-border spinner-border-sm text-primary ms-2\" role=\"status\"></div>\r\n              <span v-else>{{ post.likes?.length }}</span>\r\n            </div>\r\n            <div class=\"d-flex mb-2\">\r\n              <img :src=\"userData.photo\" alt=\"userAvatar\" class=\"me-2 img-fluid border border-dark border-3 rounded-circle\"\r\n              style=\"height: 40px; width: 40px;\">\r\n              <div class=\"mb-2 w-100\">\r\n                <div class=\"input-group mb-1\">\r\n                  <input type=\"text\" :ref=\"`post${post._id}`\"\r\n                  class=\"py-2 form-control no-border-radius border-2 border-dark\"\r\n                  placeholder=\"留言...\">\r\n                  <button class=\"px-2 px-md-6 btn btn-primary no-border-radius border-2 border-dark btn-blue-dark cus-none-shadow-border\" type=\"button\"\r\n                  @click=\"createNewComment(post)\">\r\n                    留言\r\n                    <div v-if=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\"></div>\r\n                  </button>\r\n                </div>\r\n                <div class=\"input-group\">\r\n                  <label class=\"link-pointer\">\r\n                    <input\r\n                      :ref=\"`upload_img${post._id}`\"\r\n                      style=\"display: none\"\r\n                      type=\"file\"\r\n                      @change=\"uploadImage(post)\"\r\n                    />\r\n                    <span class=\"bi bi-card-image fs-5 text-primary ms-1\"></span>\r\n                    <div v-if=\"isLoading\" class=\"spinner-border spinner-border-sm text-primary ms-2\" role=\"status\"></div>\r\n                    <a v-if=\"imgUrl && commentingPost === post._id\" href=\"#\" @click.prevent=\"imgUrl = ''\"\r\n                    class=\"ms-2\">刪除圖片</a>\r\n                  </label>\r\n                </div>\r\n                  <img v-if=\"imgUrl && commentingPost === post._id\" :src=\"imgUrl\"\r\n                  class=\"cus-border-radio img-fluid border border-2 border-dark mb-3\" alt=\"commentImage\"\r\n                  style=\"width:100%\">\r\n              </div>\r\n            </div>\r\n            <div class=\"p-3 mb-3 bg-light cus-border-radio\" v-for=\"comment in post.comments\" :key=\"comment._id\">\r\n              <div class=\"d-flex mb-3\">\r\n                <img :src=\"comment.user.photo\" alt=\"userAvatar\" class=\"img-fluid border border-dark border-3 rounded-circle\"\r\n                style=\"height: 40px; width: 40px;\">\r\n                <div class=\"ms-3 d-flex flex-column\">\r\n                  <div class=\"d-flex justify-content-between\">\r\n                    <div class=\"d-flex flex-column\">\r\n                      <router-link href=\"#\" class=\"card-title mb-0 fw-bold name-link\"\r\n                      :to=\"`/personalWall/${comment.user._id}`\"\r\n                      >{{ comment.user.name }}</router-link>\r\n                      <span class=\"cus-fs-sm text-secondary mb-1\">{{ new Date(comment.createdAt).toLocaleString() }}</span>\r\n                    </div>\r\n                    <div class=\"btn-group\" role=\"group\" aria-label=\"Button group with nested dropdown\"\r\n                    v-if=\"userData._id === comment.user._id\">\r\n                      <div class=\"btn-group\" role=\"group\">\r\n                        <button id=\"btnGroupDrop1\" type=\"button\" class=\"btn btn dropdown-toggle text-primary\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                          <i class=\"bi bi-three-dots fs-6\"></i>\r\n                        </button>\r\n                        <ul class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\">\r\n                          <li><a @click.prevent=\"openComment(comment)\" class=\"dropdown-item\">編輯留言</a></li>\r\n                          <li><a @click.prevent=\"deleteComment(comment._id)\"\r\n                          class=\"dropdown-item\" href=\"#\">刪除留言</a></li>\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <!-- 留言編輯區 -->\r\n                  <div v-if=\"comment._id === editIngComment\">\r\n                    <div class=\"mb-2 w-100\">\r\n                      <div class=\"input-group mb-1\">\r\n                        <input type=\"text\" :ref=\"`comment${comment._id}`\"\r\n                        class=\"py-2 form-control no-border-radius border-2 border-dark\"\r\n                        placeholder=\"留言...\" v-model=\"editingText\">\r\n                        <button class=\"btn btn-primary no-border-radius border-2 border-dark btn-blue-dark cus-none-shadow-border\" type=\"button\"\r\n                        @click=\"editComment(comment)\">\r\n                          儲存\r\n                          <div v-if=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\"></div>\r\n                        </button>\r\n                      </div>\r\n                      <div class=\"input-group\">\r\n                        <label class=\"link-pointer\">\r\n                          <input\r\n                            :ref=\"`upload_img${comment._id}`\"\r\n                            style=\"display: none\"\r\n                            type=\"file\"\r\n                            @change=\"uploadImage(comment)\"\r\n                          />\r\n                          <span class=\"bi bi-card-image fs-5 text-primary ms-1\"></span>\r\n                          <div v-if=\"isLoading\" class=\"spinner-border spinner-border-sm text-primary ms-2\" role=\"status\"></div>\r\n                          <a v-if=\"imgUrl && editIngComment === comment._id\" href=\"#\" @click.prevent=\"imgUrl = ''\"\r\n                          class=\"ms-2\">刪除圖片</a>\r\n                        </label>\r\n                      </div>\r\n                        <img v-if=\"imgUrl && editIngComment === comment._id\" :src=\"imgUrl\"\r\n                        class=\"cus-border-radio img-fluid border border-2 border-dark mb-3\" alt=\"commentImage\"\r\n                        style=\"width:100%\">\r\n                    </div>\r\n                  </div>\r\n                  <div v-else>\r\n                    <p class=\"card-text fw-bold\">{{ comment.comment }}</p>\r\n                    <img v-if=\"comment.image\" :src=\"comment.image\"\r\n                    class=\"cus-border-radio img-fluid border border-2 border-dark\" alt=\"postImage\"\r\n                    style=\"width:100%\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter.js'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      url: process.env.VUE_APP_API,\r\n      post: {\r\n        user: {}\r\n      },\r\n      postsTomeSort: '最新貼文',\r\n      q: '',\r\n      fileInput: null,\r\n      imgUrl: '',\r\n      commentingPost: '',\r\n      editIngComment: '',\r\n      editingText: '',\r\n      userData: {},\r\n      popConfirmCard: this.$swal.mixin({\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#dc3545',\r\n        cancelButtonColor: '#6c757d',\r\n        confirmButtonText: '確定刪除',\r\n        cancelButtonText: '取消'\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    deleteComment (id) {\r\n      this.isLoading = true\r\n      this.$http.delete(`${this.url}/posts/${id}/comment`)\r\n        .then(() => {\r\n          this.getSinglePost()\r\n          const info = {\r\n            icon: 'success',\r\n            title: '已刪除留言'\r\n          }\r\n          emitter.emit('popToast', info)\r\n        })\r\n        .catch(() => {\r\n          const info = {\r\n            icon: 'error',\r\n            title: '刪除留言失敗，請刷新後重試'\r\n          }\r\n          emitter.emit('popToast', info)\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    openComment (comment) {\r\n      this.isLoading = false\r\n      this.editIngComment = comment._id\r\n      this.imgUrl = comment.image\r\n      this.editingText = comment.comment\r\n    },\r\n    editComment (comment) {\r\n      this.isLoading = true\r\n      const commentInput = this.$refs[`comment${comment._id}`][0].value\r\n      if (commentInput.trim() === '') {\r\n        const info = {\r\n          icon: 'warning',\r\n          title: '留言內容不能為空白'\r\n        }\r\n        emitter.emit('popToast', info)\r\n        this.isLoading = false\r\n        return\r\n      }\r\n      const data = {\r\n        comment: this.editingText,\r\n        image: this.imgUrl\r\n      }\r\n      this.$http.patch(`${this.url}/posts/${comment._id}/comment`, data)\r\n        .then(() => {\r\n          this.getSinglePost()\r\n          const info = {\r\n            icon: 'success',\r\n            title: '編輯留言成功'\r\n          }\r\n          emitter.emit('popToast', info)\r\n          this.editIngComment = ''\r\n          this.imgUrl = ''\r\n          this.editingText = ''\r\n        })\r\n        .catch(() => {\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    deletePost (id) {\r\n      this.popConfirmCard.fire({\r\n        title: '確定刪除貼文?',\r\n        text: '貼文刪除後將無法恢復',\r\n        icon: 'warning'\r\n      }).then((result) => {\r\n        this.isLoading = true\r\n        if (result.isConfirmed) {\r\n          this.$http.delete(`${this.url}/posts/${id}`)\r\n            .then(() => {\r\n              this.getSinglePost()\r\n              const info = {\r\n                icon: 'success',\r\n                title: '貼文已刪除'\r\n              }\r\n              emitter.emit('popToast', info)\r\n              this.isLoading = false\r\n            })\r\n        }\r\n      })\r\n    },\r\n    getSinglePost () {\r\n      this.isLoading = true\r\n      const { id } = this.$route.params\r\n      this.$http.get(`${this.url}/posts/${id}`)\r\n        .then(res => {\r\n          this.post = res.data.data\r\n          this.isLoading = false\r\n        })\r\n        .catch(() => {\r\n          document.cookie = 'MetaWall=;'\r\n          if (localStorage.userData) {\r\n            localStorage.removeItem('userData')\r\n          }\r\n          const info = {\r\n            icon: 'error',\r\n            title: '無法取得貼文，請重新登入'\r\n          }\r\n          emitter.emit('popToast', info)\r\n          this.isLoading = false\r\n          this.$router.push('/login/sign_in')\r\n        })\r\n    },\r\n    createNewComment (post) {\r\n      this.isLoading = true\r\n      const commentInput = this.$refs[`post${post._id}`].value\r\n      if (commentInput.trim() === '') {\r\n        const info = {\r\n          icon: 'warning',\r\n          title: '留言內容不能為空白'\r\n        }\r\n        emitter.emit('popToast', info)\r\n        this.isLoading = false\r\n        return\r\n      }\r\n      const data = {\r\n        comment: commentInput,\r\n        image: this.imgUrl\r\n      }\r\n      this.$http.post(`${this.url}/posts/${post._id}/comment`, data)\r\n        .then(res => {\r\n          this.imgUrl = ''\r\n          this.getSinglePost()\r\n          const info = {\r\n            icon: 'success',\r\n            title: '已新增留言'\r\n          }\r\n          emitter.emit('popToast', info)\r\n          this.$refs[`post${post._id}`].value = ''\r\n        })\r\n        .catch(() => {\r\n          const info = {\r\n            icon: 'error',\r\n            title: '新增留言失敗，請刷新後重試'\r\n          }\r\n          emitter.emit('popToast', info)\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    likePost (post) {\r\n      this.isLoading = true\r\n      this.$http.post(`${this.url}/posts/${post._id}/likes`)\r\n        .then(() => {\r\n          this.getSinglePost()\r\n        })\r\n        .catch(() => {\r\n          const info = {\r\n            icon: 'error',\r\n            title: '留言點讚失敗'\r\n          }\r\n          emitter.emit('popToast', info)\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    dislikePost (post) {\r\n      this.isLoading = true\r\n      this.$http.delete(`${this.url}/posts/${post._id}/dislikes`)\r\n        .then(() => {\r\n          this.getSinglePost()\r\n        })\r\n        .catch(() => {\r\n          const info = {\r\n            icon: 'error',\r\n            title: '取消留言點讚失敗'\r\n          }\r\n          emitter.emit('popToast', info)\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    uploadImage (post) {\r\n      this.isLoading = true\r\n      this.commentingPost = post._id\r\n      this.fileInput = this.$refs[`upload_img${post._id}`]\r\n      const file = this.fileInput[0].files[0]\r\n      if (!file) {\r\n        const info = {\r\n          icon: 'warning',\r\n          title: '未選擇圖片檔案'\r\n        }\r\n        emitter.emit('popToast', info)\r\n        this.isLoading = false\r\n        return\r\n      }\r\n      if (file.type !== 'image/jpeg' && file.type !== 'image/png' &&\r\n      file.type !== 'image/jpg' && file.type !== 'image/gif') {\r\n        const info = {\r\n          icon: 'warning',\r\n          title: '檔案類別僅限 jpg, jpeg, png 或 gif'\r\n        }\r\n        emitter.emit('popToast', info)\r\n        this.isLoading = false\r\n        return\r\n      }\r\n      if (file.size > 2 * 1024 * 1024) {\r\n        const info = {\r\n          icon: 'warning',\r\n          title: '上傳檔案須小於 2 MB'\r\n        }\r\n        emitter.emit('popToast', info)\r\n        this.isLoading = false\r\n        return\r\n      }\r\n      const formData = new FormData()\r\n      formData.append('image', file)\r\n      this.$http.post(`${this.url}/upload`, formData)\r\n        .then(res => {\r\n          this.imgUrl = res.data.imgUrl\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          const info = {\r\n            icon: 'error',\r\n            title: err.response.data.message\r\n          }\r\n          emitter.emit('popToast', info)\r\n          this.isLoading = false\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    if (localStorage.userData) {\r\n      this.userData = JSON.parse(localStorage.userData)\r\n    }\r\n    this.getSinglePost()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./singlePostView.vue?vue&type=template&id=09ee9038\"\nimport script from \"./singlePostView.vue?vue&type=script&lang=js\"\nexport * from \"./singlePostView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\node-week8-front end\\\\Meta Wall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","role","_createElementVNode","id","type","href","_hoisted_12","_hoisted_17","_hoisted_19","_createElementBlock","src","$data","user","photo","alt","style","_toDisplayString","name","Date","createdAt","toLocaleString","_id","_hoisted_13","content","image","likes","includes","onClick","$options","_hoisted_22","length","ref","placeholder","onChange","_hoisted_31","_Fragment","_renderList","comments","comment","key","_createVNode","_component_router_link","to","_hoisted_42","_hoisted_44","_hoisted_45","_hoisted_46","$event","_hoisted_55","_hoisted_58","data","isLoading","url","process","post","postsTomeSort","q","fileInput","imgUrl","commentingPost","editIngComment","editingText","userData","popConfirmCard","this","$swal","mixin","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","methods","deleteComment","$http","delete","then","getSinglePost","info","icon","title","emitter","catch","openComment","editComment","commentInput","$refs","value","trim","patch","deletePost","fire","text","result","isConfirmed","$route","params","get","res","document","cookie","localStorage","removeItem","$router","push","createNewComment","likePost","dislikePost","uploadImage","file","files","size","formData","FormData","append","err","response","message","mounted","JSON","parse","__exports__","render"],"sourceRoot":""}